model Product {
    id               String             @id @default(uuid())
    name             String
    shortDescription String?
    description      String?
    sku              String?            @unique
    stock            Int?
    price            Decimal
    shippingWeight   String?
    handleTime       String?
    freeShipping     Boolean?
    packaging        String?
    discountPrice    String?
    unitSold         String?
    length           Float?
    width            Float?
    height           Float?
    productSize      String?
    productStatus    ProductStatus?     @default(Unpublished)
    imageUrl         String[] // Prisma supports arrays in PostgreSQL and MongoDB
    storeId          String
    locationId       String?
    purchaseOrderId  String?
    collectionId     String?
    hasVariation     Boolean?
    featuredBrands   FeaturedBrands[]
    cartItems        CartItem[]
    productVariation ProductVariation[]
    productCategory  ProductCategory[]
    inventoryItems   Inventory[] // Link to inventory records
    collection       ProductCollection? @relation(fields: [collectionId], references: [id])
    purchase         Purchase?          @relation(fields: [purchaseOrderId], references: [id])
    store            Organization       @relation(fields: [storeId], references: [id])
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    warehouse        Warehouse?         @relation(fields: [warehouseId], references: [id])
    warehouseId      String?
    location         Location?          @relation(fields: [locationId], references: [id])

    @@map("product")
}

model ProductCategory {
    id          String       @id @default(uuid())
    name        String?
    description String
    productId   Int
    storeId     String
    product     Product[]
    store       Organization @relation(fields: [storeId], references: [id])
    createdAt   DateTime
    updatedAt   DateTime     @updatedAt

    @@map("productcategory")
}

model ProductCollection {
    id          String    @id @default(uuid())
    name        String
    description String?
    products    Product[]
    createdAt   DateTime
    updatedAt   DateTime  @updatedAt

    @@map("productcollection")
}

model ProductVariation {
    id        String   @id @default(uuid())
    productId String
    color     String?
    size      String?
    sku       String?  @unique
    price     Float?
    stock     Int?
    imageUrl  String?
    product   Product  @relation(fields: [productId], references: [id])
    createdAt DateTime
    updatedAt DateTime @updatedAt

    @@map("productvariation")
}

model FeaturedBrands {
    id        String   @id @default(uuid())
    name      String
    productId String
    product   Product  @relation(fields: [productId], references: [id])
    createdAt DateTime
    updatedAt DateTime @updatedAt

    @@map("featuredbrands")
}

enum ProductStatus {
    Unpublished
    Published
}
